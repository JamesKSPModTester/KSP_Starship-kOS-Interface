PART
{
	name = SEP_22_BOOSTER_CORE_KOS
	module = Part
	author = Kari
	
	MODEL
    {
        model = StarshipExpansionProject/Assets/MK1/SEP_22_BOOSTER_CORE
    }
	
	rescaleFactor = 0.625

	NODE
	{
		name = node_top
		transform = node_top
		size = 4
		method = FIXED_JOINT
	}
	NODE
	{
		name = node_bottom
		transform = node_bottom
		size = 4
		method = FIXED_JOINT
	}

	TechRequired = veryHeavyRocketry
	entryCost = 89600
	cost = 52140
	category = FuelTank
	subcategory = 0
	title = Behemoth Core Tank
	manufacturer = Starship Expansion Project with KOS Guidance
	description = "If we put more engines, we're going to need more fuel to feed them!" - Bill Kerman
	tags = BFR ITS big BFS ship starship 2021 landing spacex booster superheavy heavy super
	attachRules = 1,0,1,1,0
	mass = 56
	dragModelType = default
	maximum_drag = 1
	minimum_drag = 0.3
	angularDrag = 0.5
	crashTolerance = 20
	maxTemp = 2500
	breakingForce = 300
	breakingTorque = 300
	bulkheadProfiles = size4, srf
	
	MODULE
	{
		name = ModulePartVariants
		baseVariant = B7
		VARIANT
		{
			name = B4
			displayName = Booster 4
			themeName = White
			primaryColor = #ffffff
			secondaryColor = #808080
			GAMEOBJECTS
			{
				SH_Aero_B7_Chine = false
				SH_Aero_B7_COPV = false
				SH_Aero_B7_Hydraulic = false
				SH_Aero_B4 = true
			}
		}
		VARIANT
		{
			name = B7
			displayName = Booster 7
			themeName = White
			primaryColor = #808080
			secondaryColor = #ffffff
			GAMEOBJECTS
			{
				SH_Aero_B7_Chine = true
				SH_Aero_B7_COPV = true
				SH_Aero_B7_Hydraulic = true
				SH_Aero_B4 = false
			}
		}
		VARIANT
		{
			name = B9
			displayName = Booster 9
			themeName = White
			primaryColor = #808080
			secondaryColor = #ffffff
			GAMEOBJECTS
			{
				SH_Aero_B7_Chine = true
				SH_Aero_B7_COPV = true
				SH_Aero_B7_Hydraulic = false
				SH_Aero_B4 = false
			}
		}
	}

	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = SEP_EngineMount
		switcherDescription = Nagata Mounts
		affectDragCubes = false
		
		SUBTYPE
		{
			name = 29
			title = 29 Nagata Mounts
			descriptionSummary = 29 Nagata Mounts
			descriptionDetail = 29 Nagata Mounts
			primaryColor = #FFFFFF
			secondaryColor = #808080
			transform = SH_E_9_RC
		}
		SUBTYPE
		{
			name = 33
			title = 33 Nagata Mounts
			descriptionSummary = 33 Nagata Mounts
			descriptionDetail = 33 Nagata Mounts
			primaryColor = #808080
			secondaryColor = #FFFFFF
			transform = SH_E_13_RC
			defaultSubtypePriority = 1
		}
	}
	
	
	MODULE:NEEDS[!RealSolarSystem]
	{
		name = ModuleRCSFX
		thrusterTransformName = RCS
		thrusterPower = 75
		resourceName = LiquidFuel
		resourceFlowMode = STAGE_PRIORITY_FLOW
		PROPELLANT
		{
			name = LiquidFuel
			ratio = 1
			DrawGauge = True
			resourceFlowMode = STAGE_PRIORITY_FLOW
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 3.6
			resourceFlowMode = STAGE_PRIORITY_FLOW
		}
		atmosphereCurve
		{
			key = 0 500
			key = 1 500
			key = 5 0.001
		}
	}

	MODULE:NEEDS[RealSolarSystem]
	{
		name = ModuleRCSFX
		thrusterTransformName = RCS
		thrusterPower = 400
		resourceName = LiquidFuel
		resourceFlowMode = STAGE_PRIORITY_FLOW
		PROPELLANT
		{
			name = LiquidFuel
			ratio = 1
			DrawGauge = True
			resourceFlowMode = STAGE_PRIORITY_FLOW
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 3.6
			resourceFlowMode = STAGE_PRIORITY_FLOW
		}
		atmosphereCurve
		{
			key = 0 500
			key = 1 500
			key = 5 0.001
		}
	}
	
	MODULE:NEEDS[!RealSolarSystem]
	{
        name = ModuleEnginesFX
		engineID = Vents
        thrustVectorTransformName = VentTransform
        throttleLocked = True
        exhaustDamage = True
        allowShutdown = True
		stagingEnabled = False
        ignitionThreshold = 0.1
        minThrust = 0
        maxThrust = 10
        heatProduction = 0
        fxOffset = 0, 0, 0
        nonThrustMotor = true
        EngineType = LiquidFuel
        exhaustDamageMultiplier = 50
		runningEffectName = running_vent
		multFlow = 2
		overrideStagingIconIfBlank = false
		
        PROPELLANT
		{
			name = LiquidFuel
			ratio = 1
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 3.6
		}

        atmosphereCurve 
		{
            key = 0 1
            key = 1 1
            key = 6 0.001
        }
	}

	MODULE:NEEDS[RealSolarSystem]
	{
        name = ModuleEnginesFX
		engineID = Vents
        thrustVectorTransformName = VentTransform
        throttleLocked = True
        exhaustDamage = True
        allowShutdown = True
		stagingEnabled = False
        ignitionThreshold = 0.1
        minThrust = 0
        maxThrust = 50
        heatProduction = 0
        fxOffset = 0, 0, 0
        nonThrustMotor = true
        EngineType = LiquidFuel
        exhaustDamageMultiplier = 50
		runningEffectName = running_vent
		multFlow = 2
		overrideStagingIconIfBlank = false

        PROPELLANT
		{
			name = LiquidFuel
			ratio = 1
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 3.6
		}

        atmosphereCurve
		{
            key = 0 1
            key = 1 1
            key = 6 0.001
        }
	}

	MODULE
    {
        name = kOSProcessor
        diskSpace = 255000
    }

    RESOURCE:NEEDS[!RealSolarSystem,!KSRSS]
    {
		name = LiquidFuel
        amount = 16000
        maxAmount = 16000
    }
    RESOURCE:NEEDS[!RealSolarSystem,!KSRSS]
    {
		name = Oxidizer
        amount = 57600
        maxAmount = 57600
    }
	RESOURCE:NEEDS[!RealSolarSystem,KSRSS]
    {
		name = LiquidFuel
        amount = 38260
        maxAmount = 38260
    }
    RESOURCE:NEEDS[!RealSolarSystem,KSRSS]
    {
		name = Oxidizer
        amount = 137736
        maxAmount = 137736
    }
	RESOURCE:NEEDS[RealSolarSystem]
    {
		name = LiquidFuel
        amount = 147826
        maxAmount = 147826
    }
    RESOURCE:NEEDS[RealSolarSystem]
    {
		name = Oxidizer
        amount = 532174
        maxAmount = 532174
    }

    EFFECTS:NEEDS[Waterfall]
	{
		running
		{
			AUDIO_MULTI_POOL
			{
				channel = Ship
				transformName = RCS
				clip = sound_rocket_mini
				volume = 0.0 0.0
				volume = 0.1 0.0
				volume = 0.5 0.025
				volume = 1.0 0.1
				pitch = 1.0
				loop = true
			}
		}
	}
	MODULE:NEEDS[Waterfall]
	{
		name = ModuleWaterfallFX
		moduleID = rcsFX

		CONTROLLER
		{
			name = atmosphereDepth
			linkedTo = atmosphere_density
		}
		CONTROLLER
		{
			name = rcs
			linkedTo = rcs
		}

		TEMPLATE
		{
			templateName = SEP-SP-RCS
			overrideParentTransform = RCS
			position = 0,0,0
			rotation = 0, 0, 180
			scale = 1,1,1
		}
	}
	EFFECTS:NEEDS[Waterfall]
	{
		running_vent
		{
			AUDIO_MULTI_POOL
			{
				channel = Ship
				transformName = VentTransform
				clip = sound_rocket_mini
				volume = 0.0 0.0
				volume = 1.0 0.1
				pitch = 1.0
				loop = true
			}
		}
	}
	MODULE:NEEDS[Waterfall]
	{
		name = ModuleWaterfallFX
		moduleID = ventFX
		CONTROLLER
		{
			name = thrust
			linkedTo = thrust
			engineID = Vents
		}
		TEMPLATE:NEEDS[!RealSolarSystem]
		{
			templateName = sep-vent-jet
			overrideParentTransform = VentTransform
			position = 0,0.0005,0
			rotation = 0, 0, 180
			scale = 2.1, 6.5, 2.1
		}
		TEMPLATE:NEEDS[RealSolarSystem]
		{
			templateName = sep-vent-jet
			overrideParentTransform = VentTransform
			position = 0,0.0005,0
			rotation = 0, 0, 180
			scale = 1.6, 1.6, 1.6
		}
	}

	DRAG_CUBE:NEEDS[!RealSolarSystem]
	{
		cube = 0, 206.5, 0.75, 2.5, 206.5, 0.75, 2.5, 19.6, 0.3, 60, 22.5, 0.99, 5.8, 206.5, 0.8, 2.5, 206.5, 0.85, 2.5, 0, 0, 0, 5, 41.3, 5
		cube = 1, 206.5, 0.75, 2.5, 206.5, 0.75, 2.5, 19.6, 0.3, 60, 22.5, 0.99, 5.8, 206.5, 0.8, 2.5, 206.5, 0.85, 2.5, 0, 0, 0, 5, 41.3, 5
		cube = 2, 206.5, 0.75, 2.5, 206.5, 0.75, 2.5, 19.6, 0.3, 60, 22.5, 0.99, 5.8, 206.5, 0.8, 2.5, 206.5, 0.85, 2.5, 0, 0, 0, 5, 41.3, 5
	}
	DRAG_CUBE:NEEDS[RealSolarSystem]
	{
		cube = 0, 540, 0.65, 4.5, 540, 0.65, 4.5, 65, 0.3, 60, 65, 0.95, 5.8, 540, 0.7, 4.5, 540, 0.75, 4.5, 0, 0, 0, 9, 65.8, 9
		cube = 1, 540, 0.65, 4.5, 540, 0.65, 4.5, 65, 0.3, 60, 65, 0.95, 5.8, 540, 0.7, 4.5, 540, 0.75, 4.5, 0, 0, 0, 9, 65.8, 9
		cube = 2, 540, 0.65, 4.5, 540, 0.65, 4.5, 65, 0.3, 60, 65, 0.95, 5.8, 540, 0.7, 4.5, 540, 0.75, 4.5, 0, 0, 0, 9, 65.8, 9
	}
}
