//------------Copy Parts--------------//




+PART[SEP_22_BOOSTER_CLUSTER]:NEEDS[kOS]
{
	@name = SEP_22_BOOSTER_CLUSTER_KOS
	@manufacturer = Starship Expansion Project with KOS Guidance

	-MODULE[ModuleSEPEngineGUI],* {}
	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[SEPEngineSwitch]],* {}

	MODULE
	{
		name = ModuleB9DisableTransform
		transform = INNER9
	}
	
	@MODULE[ModuleEnginesFX]:HAS[#engineID[AllEngines]]
	{
		-PROPELLANT,* {}
		PROPELLANT
		{
			name = LiquidFuel
			ratio = 1
			DrawGauge = True
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 3.6
			DrawGauge = False
		}
		-atmosphereCurve,* {}
		atmosphereCurve
		{
			key = 0 342
			key = 1 327
			key = 4 290
			key = 12 100
		}
	}
	@MODULE[ModuleEnginesFX]:HAS[#engineID[MiddleInner]]
	{
		-PROPELLANT,* {}
		PROPELLANT
		{
			name = LiquidFuel
			ratio = 1
			DrawGauge = True
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 3.6
			DrawGauge = False
		}
		-atmosphereCurve,* {}
		atmosphereCurve
		{
			key = 0 342
			key = 1 327
			key = 4 290
			key = 12 100
		}
	}
	@MODULE[ModuleEnginesFX]:HAS[#engineID[CenterThree]]:NEEDS[TundraExploration]
	{
		-PROPELLANT,* {}
		PROPELLANT
		{
			name = LiquidFuel
			ratio = 1
			DrawGauge = True
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 3.6
			DrawGauge = False
		}
		-atmosphereCurve,* {}
		atmosphereCurve
		{
			key = 0 342
			key = 1 327
			key = 4 290
			key = 12 100
		}
	}

	@MODULE[ModuleEnginesFX]:HAS[#engineID[AllEngines]]:NEEDS[!RealSolarSystem]
	{
		@maxThrust = 10443
	}
	@MODULE[ModuleEnginesFX]:HAS[#engineID[AllEngines]]:NEEDS[RealSolarSystem]
	{
		@maxThrust = 77218
	}

	@MODULE[ModuleEnginesFX]:HAS[#engineID[MiddleInner]]:NEEDS[!RealSolarSystem]
	{
		@maxThrust = 4114
	}
	@MODULE[ModuleEnginesFX]:HAS[#engineID[MiddleInner]]:NEEDS[RealSolarSystem]
	{
		@maxThrust = 30419
	}
	@MODULE[ModuleEnginesFX]:HAS[#engineID[CenterThree]]:NEEDS[!RealSolarSystem,TundraExploration]
	{
		@maxThrust = 2130
	}
	@MODULE[ModuleEnginesFX]:HAS[#engineID[CenterThree]]:NEEDS[RealSolarSystem,TundraExploration]
	{
		@maxThrust = 7020
	}

	!EFFECTS:NEEDS[Waterfall] {}
	EFFECTS:NEEDS[Waterfall]
	{
		running_full
		{
			AUDIO
			{
				channel = Ship
				clip = StarshipExpansionProject/Soundbank/superheavycluster
				volume = 0.0 0.0
				volume = 0.1 0.3
				volume = 1.0 1.0
				pitch = 0.0 0.7
				pitch = 1.0 1.0
				loop = true
			}
		}
		running_twelve
		{
			AUDIO
			{
				channel = Ship
				clip = StarshipExpansionProject/Soundbank/superheavycluster
				volume = 0.0 0.0
				volume = 0.1 0.3
				volume = 1.0 1.0
				pitch = 0.0 0.7
				pitch = 1.0 1.0
				loop = true
			}
		}
		running_three
		{
			AUDIO
			{
				channel = Ship
				clip = StarshipExpansionProject/Soundbank/superheavycluster
				volume = 0.0 0.0
				volume = 0.1 0.3
				volume = 1.0 1.0
				pitch = 0.0 0.7
				pitch = 1.0 1.0
				loop = true
			}
		}
		engage
		{
			AUDIO
			{
				channel = Ship
				clip = Waterfall/Sounds/ZorgSounds/engage_raptor
				volume = 1.0
				pitch = 1.0
				loop = false
			}
		}
		flameout
		{
			PREFAB_PARTICLE
			{
				prefabName = fx_exhaustSparks_flameout_2
				transformName = fullthrusttransform
				oneShot = true
			}
			AUDIO
			{
				channel = Ship
				clip = sound_explosion_low
				volume = 1.0
				pitch = 2.0
				loop = false
			}
		}
	}
	MODULE:NEEDS[Waterfall]
	{
		name = ModuleWaterfallFX
		moduleID = raptorclusterFull
		engineID = AllEngines

		CONTROLLER
		{
			name = atmosphereDepth
			linkedTo = atmosphere_density
		}
		CONTROLLER
		{
			name = throttle
			linkedTo = throttle
			engineID = AllEngines
		}
		CONTROLLER
		{
			name = random
			linkedTo = random
			range = -1,1
		}
		TEMPLATE:NEEDS[!RealSolarSystem]
		{
			templateName = SuperheavyPlumeOne
			position = 0,0,0
			rotation = 0, 0, 0
			scale = 0.7,0.7,0.7
		}
		TEMPLATE:NEEDS[RealSolarSystem]
		{
			templateName = SuperheavyPlumeOne
			position = 0,0,0
			rotation = 0, 0, 0
			scale = 1,1,2
		}
	}
	MODULE:NEEDS[Waterfall]
	{
		name = ModuleWaterfallFX
		moduleID = raptorclusterMiddle
		engineID = MiddleInner

		CONTROLLER
		{
			name = atmosphereDepth
			linkedTo = atmosphere_density
		}
		CONTROLLER
		{
			name = throttle
			linkedTo = throttle
			engineID = MiddleInner
		}
		CONTROLLER
		{
			name = random
			linkedTo = random
			range = -1,1
		}
		TEMPLATE:NEEDS[!RealSolarSystem]
		{
			templateName = CryoRapThree
			overrideParentTransform = MiddleThrustTransform
			position = 0, 0, 0
			rotation = 0, 0, 0
			scale = 0.7,0.7,0.7
		}
		TEMPLATE:NEEDS[RealSolarSystem]
		{
			templateName = CryoRapThree
			overrideParentTransform = MiddleThrustTransform
			position = 0, 0, 0
			rotation = 0, 0, 0
			scale = 1,1,2
		}
	}
	MODULE:NEEDS[Waterfall,TundraExploration]
	{
		name = ModuleWaterfallFX
		moduleID = raptorclusterInner
		engineID = CenterThree

		CONTROLLER
		{
			name = atmosphereDepth
			linkedTo = atmosphere_density
		}
		CONTROLLER
		{
			name = throttle
			linkedTo = throttle
			engineID = CenterThree
		}
		CONTROLLER
		{
			name = random
			linkedTo = random
			range = -1,1
		}
		TEMPLATE:NEEDS[!RealSolarSystem]
		{
			templateName = CryoRapThree
			overrideParentTransform = CenterThrustTransform
			position = 0, 0, 0
			rotation = 0, 0, 0
			scale = 0.7,0.7,0.7
		}
		TEMPLATE:NEEDS[RealSolarSystem]
		{
			templateName = CryoRapThree
			overrideParentTransform = CenterThrustTransform
			position = 0, 0, 0
			rotation = 0, 0, 0
			scale = 1,1,2
		}
	}
	DRAG_CUBE
	{
		cube = Custom, 0.0,0.7408,3.143, 0.0,0.7408,3.143, 0.0,0.7324,2.014, 0.0,0.5312,1.731, 0.0,0.7418,3.143, 0.0,0.7417,3.143, -7.153E-07,-0.2241,2.384E-07, 6.062,1.923,6.062
	}
}



+PART[SEP_22_BOOSTER_CORE]:NEEDS[kOS]
{
	@name = SEP_22_BOOSTER_CORE_KOS
	@manufacturer = Starship Expansion Project with KOS Guidance

	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[SEP_Fuel]],* {}
	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[SEPVentSwtich]],* {}
	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[SEPRCSSwitch]],* {}
	-MODULE[ModuleCryoTank],* {}
	-MODULE[ModuleTankManager],* {}
	-MODULE[ModuleFuelTanks],* {}

	MODULE
    {
        name = kOSProcessor
        diskSpace = 255000
    }
    -RESOURCE,* {}
    RESOURCE:NEEDS[!RealSolarSystem]
    {
		name = LiquidFuel
        amount = 17000
        maxAmount = 17000
    }
    RESOURCE:NEEDS[!RealSolarSystem]
    {
		name = Oxidizer
        amount = 61200
        maxAmount = 61200
    }
	RESOURCE:NEEDS[RealSolarSystem]
    {
		name = LiquidFuel
        amount = 147826
        maxAmount = 147826
    }
    RESOURCE:NEEDS[RealSolarSystem]
    {
		name = Oxidizer
        amount = 532174
        maxAmount = 532174
    }

    @MODULE[ModuleRCSFX]
	{
		-PROPELLANT,* {}
		PROPELLANT
		{
			name = LiquidFuel
			ratio = 1
			resourceFlowMode = STAGE_PRIORITY_FLOW
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 3.6
			resourceFlowMode = STAGE_PRIORITY_FLOW
		}
		-atmosphereCurve,* {}
		atmosphereCurve
		{
			key = 0 500
			key = 1 500
			key = 5 0.001
		}
	}
	@MODULE[ModuleRCSFX]:NEEDS[!RealSolarSystem]
	{
		@thrusterPower = 100
	}
	@MODULE[ModuleRCSFX]:NEEDS[RealSolarSystem]
	{
		@thrusterPower = 1000
	}


	EFFECTS:NEEDS[Waterfall]
	{
		running
		{
			AUDIO_MULTI_POOL
			{
				channel = Ship
				transformName = RCS
				clip = sound_rocket_mini
				volume = 0.0 0.0
				volume = 0.1 0.0
				volume = 0.5 0.025
				volume = 1.0 0.1
				pitch = 1.0
				loop = true
			}
		}
	}
	MODULE:NEEDS[Waterfall]
	{
		name = ModuleWaterfallFX
		moduleID = rcsFX

		CONTROLLER
		{
			name = atmosphereDepth
			linkedTo = atmosphere_density
		}
		CONTROLLER
		{
			name = rcs
			linkedTo = rcs
		}

		TEMPLATE
		{
			templateName = SEP-SP-RCS
			overrideParentTransform = RCS
			position = 0,0,0
			rotation = 0, 0, 180
			scale = 1,1,1
		}
	}
	EFFECTS:NEEDS[Waterfall]
	{
		running_vent
		{
			AUDIO_MULTI_POOL
			{
				channel = Ship
				transformName = VentTransform
				clip = sound_rocket_mini
				volume = 0.0 0.0
				volume = 1.0 0.1
				pitch = 1.0
				loop = true
			}
		}
	}
	MODULE:NEEDS[Waterfall]
	{
		name = ModuleWaterfallFX
		moduleID = ventFX
		CONTROLLER
		{
			name = thrust
			linkedTo = thrust
			engineID = Vents
		}
		TEMPLATE:NEEDS[!RealSolarSystem]
		{
			templateName = sep-vent-jet
			overrideParentTransform = VentTransform
			position = 0,0.0005,0
			rotation = 0, 0, 180
			scale = 2.1, 6.5, 2.1
		}
		TEMPLATE:NEEDS[RealSolarSystem]
		{
			templateName = sep-vent-jet
			overrideParentTransform = VentTransform
			position = 0,0.0005,0
			rotation = 0, 0, 180
			scale = 1.6, 1.6, 1.6
		}
	}
	DRAG_CUBE
	{
		cube = 0, 244.7,0.7642,4.65, 244.7,0.7641,4.65, 122.68,0.7535,41.02, 139.68,0.876,21.54, 244.7,0.7642,4.65, 244.7,0.7642,4.65, 0,1.054,1.907E-06, 9.137,43.38,9.137
		cube = 1, 244.7,0.7642,4.65, 244.7,0.7641,4.65, 122.68,0.7535,41.02, 156.68,0.876,21.54, 364.9,0.753,4.65, 266.2,0.7532,4.65, 0,1.054,1.907E-06, 9.137,43.38,9.137
		cube = 2, 244.7,0.7642,4.65, 244.7,0.7641,4.65, 122.68,0.7535,41.02, 156.68,0.876,21.54, 364.9,0.753,4.65, 266.2,0.7532,4.65, 0,1.054,1.907E-06, 9.137,43.38,9.137
	}
}



+PART[SEP_22_BOOSTER_GRIDFIN]:NEEDS[kOS]
{
	@name = SEP_22_BOOSTER_GRIDFIN_KOS
	@manufacturer = Starship Expansion Project with KOS Guidance

	DRAG_CUBE
	{
		cube = defaultRotation, 0.513,0.489,3.754, 0.513,0.8831,7.787, 1.952,0.7654,2.168, 48.957,0.4864,2.14, 13.85,0.9781,0.3265, 13.85,0.9737,0.3996, -0.2042,-0.9439,-0.006768, 7.711,2.193,0.3172
		cube = fullDeflectionPos, 0.513,0.489,3.754, 0.513,0.8831,7.787, 1.952,0.7654,2.168, 48.957,0.4864,2.14, 13.85,0.9781,0.3265, 13.85,0.9737,0.3996, -0.2042,-0.9439,-0.006768, 7.711,2.193,0.3172
		cube = fullDeflectionNeg, 0.513,0.489,3.754, 0.513,0.8831,7.787, 1.952,0.7654,2.168, 48.957,0.4864,2.14, 13.85,0.9781,0.3265, 13.85,0.9737,0.3996, -0.2042,-0.9439,-0.006768, 7.711,2.193,0.3172
	}
}



+PART[SEP_22_BOOSTER_INTER]:NEEDS[kOS]
{
	@name = SEP_22_BOOSTER_INTER_KOS
	@manufacturer = Starship Expansion Project with KOS Guidance

	DRAG_CUBE
	{
		cube = Default, 12.8,0.8193,5.895, 12.8,0.8192,5.895, 4.79,0.9707,2.455, 37.79,0.983,2.36, 13.28,0.8261,5.209, 13.28,0.8263,5.209, 2.384E-07,0.07778,2.146E-06, 6.422,2.51,5.703
	}
}



+PART[SEP_22_RAPTOR_VAC]:NEEDS[kOS]
{
	@name = SEP_22_RAPTOR_VAC_KOS
	@manufacturer = Starship Expansion Project with KOS Guidance

	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[SEPFuelSwitch]],* {}

	@MODULE[ModuleEnginesFX]
	{
		-PROPELLANT,* {}
		PROPELLANT
		{
			name = LiquidFuel
			ratio = 1
			DrawGauge = True
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 3.6
		}
		-atmosphereCurve,* {}
		atmosphereCurve
		{
			key = 0 378
			key = 1 125
			key = 4 18
			key = 12 8
		}
	}

	@MODULE[ModuleEnginesFX]:NEEDS[!RealSolarSystem]
	{
		@maxThrust = 580
	}
	@MODULE[ModuleEnginesFX]:NEEDS[RealSolarSystem]
	{
		@maxThrust = 2237
	}


	!EFFECTS:NEEDS[Waterfall] {}
    EFFECTS:NEEDS[Waterfall]
    {
		fx_draper
		{
			AUDIO
			{
				channel = Ship
				clip = StarshipExpansionProject/Soundbank/raptor
				volume = 0.0 0.0
				volume = 0.1 0.3
				volume = 1.0 1.0
				pitch = 0.0 0.7
				pitch = 1.0 1.0
				loop = true
			}
		}
		engage
		{
			AUDIO
			{
				channel = Ship
				clip = Waterfall/Sounds/ZorgSounds/engage_raptor
				volume = 1.0
				pitch = 1.0
				loop = false
			}
		}
		flameout
		{
			PREFAB_PARTICLE
			{
				prefabName = fx_exhaustSparks_flameout_2
				transformName = ThrustTransform
				oneShot = true
				}
				AUDIO
				{
					channel = Ship
					clip = sound_explosion_low
					volume = 1.0
					pitch = 2.0
					loop = false
			}
		}
    }
    MODULE:NEEDS[Waterfall]
    {
		name = ModuleWaterfallFX
		moduleID = DraperFX
		engineID = draper

		CONTROLLER
		{
			name = atmosphereDepth
			linkedTo = atmosphere_density
		}
		CONTROLLER
		{
			name = throttle
			linkedTo = throttle
		}
		CONTROLLER
		{
			name = random
			linkedTo = random
			range = -1,1
		}
		TEMPLATE:NEEDS[!RealSolarSystem]
		{
			templateName = CryoRapVac
			overrideParentTransform = ThrustTransform
			position = 0,0,0
			rotation = 0, 0, 0
			scale = 1.2,1.2,1.2
		}
		TEMPLATE:NEEDS[RealSolarSystem]
		{
			templateName = CryoRapVac
			overrideParentTransform = ThrustTransform
			position = 0,0,0
			rotation = 0, 0, 0
			scale = 2,2,2
		}
    }
}



+PART[SEP_22_RAPTOR2_SL_RC]:NEEDS[kOS]
{
	@name = SEP_22_RAPTOR2_SL_KOS
	@manufacturer = Starship Expansion Project with KOS Guidance

	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[SEPFuelSwitch]],* {}
	-MODULE[ModuleSEPPartSwitchAction],* {}

	@MODULE[ModuleEnginesFX]
	{
		-PROPELLANT,* {}
		PROPELLANT
		{
			name = LiquidFuel
			ratio = 1
			DrawGauge = True
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 3.6
		}
		-atmosphereCurve,* {}
		atmosphereCurve
		{
			key = 0 342
			key = 1 327
			key = 4 290
			key = 12 100
		}
	}

	@MODULE[ModuleEnginesFX]:NEEDS[!RealSolarSystem]
	{
		@maxThrust = 580
	}
	@MODULE[ModuleEnginesFX]:NEEDS[RealSolarSystem]
	{
		@maxThrust = 2237
	}

	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[plumeSwitch]],* {}

	!EFFECTS:NEEDS[Waterfall] {}
    EFFECTS:NEEDS[Waterfall]
    {
        fx_nagata
        {
            AUDIO
            {
                channel = Ship
                clip = StarshipExpansionProject/Soundbank/raptor
                volume = 0.0 0.0
                volume = 0.1 0.3
                volume = 1.0 1.0
                pitch = 0.0 0.7
                pitch = 1.0 1.0
                loop = true
            }
        }
        engage
        {
			AUDIO
			{
				channel = Ship
				clip = Waterfall/Sounds/ZorgSounds/engage_raptor
				volume = 1.0
				pitch = 1.0
				loop = false
			}
        }
        flameout
        {
			PREFAB_PARTICLE
			{
				prefabName = fx_exhaustSparks_flameout_2
				transformName = ThrustTransform
				oneShot = true
			}
			AUDIO
			{
				channel = Ship
				clip = sound_explosion_low
				volume = 1.0
				pitch = 2.0
				loop = false
			}
        }
    }
    MODULE:NEEDS[Waterfall]
    {
		name = ModuleWaterfallFX
		moduleID = nagataFX
		engineID = nagata

		CONTROLLER
		{
			name = atmosphereDepth
			linkedTo = atmosphere_density
		}
		CONTROLLER
		{
			name = throttle
			linkedTo = throttle
		}
		CONTROLLER
		{
			name = random
			linkedTo = random
			range = -1,1
		}
		TEMPLATE:NEEDS[!RealSolarSystem]
		{
			templateName = CryoRapThree
			overrideParentTransform = ThrustTransform
			position = 0,0,0
			rotation = 0, 0, 0
			scale = 0.7,0.7,0.7
		}
		TEMPLATE:NEEDS[RealSolarSystem]
		{
			templateName = CryoRapThree
			overrideParentTransform = ThrustTransform
			position = 0,0,0
			rotation = 0, 0, 0
			scale = 1.1,1.1,1.3
		}
    }
}



+PART[SEP_22_SHIP_AFT_LEFT]:NEEDS[kOS]
{
	@name = SEP_22_SHIP_AFT_LEFT_KOS
	@manufacturer = Starship Expansion Project with KOS Guidance
}



+PART[SEP_22_SHIP_AFT_RIGHT]:NEEDS[kOS]
{
	@name = SEP_22_SHIP_AFT_RIGHT_KOS
	@manufacturer = Starship Expansion Project with KOS Guidance
}



+PART[SEP_22_SHIP_BODY]:NEEDS[kOS]
{
	@name = SEP_22_SHIP_BODY_KOS
	@manufacturer = Starship Expansion Project with KOS Guidance

	@maximum_drag = 0.3
	@minimum_drag = 0.2

	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[SEP_Fuel]],* {}
	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[SEPVentSwtich]],* {}
	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[SEPRCSSwitch]],* {}
	-MODULE[ModuleCryoTank],* {}
	-MODULE[ModuleTankManager],* {}
	-MODULE[ModuleFuelTanks],* {}

	MODULE
    {
        name = kOSProcessor
        diskSpace = 255000
    }
    -RESOURCE,* {}
	RESOURCE:NEEDS[!RealSolarSystem]
    {
		name = LiquidFuel
        amount = 3000
        maxAmount = 3000
    }
    RESOURCE:NEEDS[!RealSolarSystem]
    {
		name = Oxidizer
        amount = 10800
        maxAmount = 10800
    }
	RESOURCE:NEEDS[RealSolarSystem]
    {
		name = LiquidFuel
        amount = 51275
        maxAmount = 51275
    }
    RESOURCE:NEEDS[RealSolarSystem]
    {
		name = Oxidizer
        amount = 184590
        maxAmount = 184590
    }

    @MODULE[ModuleEnginesFX]
	{
		-PROPELLANT,* {}
		PROPELLANT
		{
			name = LiquidFuel
			ratio = 1
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 3.6
		}
	}

	@MODULE[ModuleRCSFX]
	{
		-PROPELLANT,* {}
		PROPELLANT
		{
			name = LiquidFuel
			ratio = 1
			resourceFlowMode = STAGE_PRIORITY_FLOW
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 3.6
			resourceFlowMode = STAGE_PRIORITY_FLOW
		}
		-atmosphereCurve,* {}
		atmosphereCurve
		{
			key = 0 500
			key = 1 500
			key = 5 0.001
		}
	}
	@MODULE[ModuleRCSFX]:NEEDS[!RealSolarSystem]
	{
		@thrusterPower = 20
	}
	@MODULE[ModuleRCSFX]:NEEDS[RealSolarSystem]
	{
		@thrusterPower = 50
	}

    @MODULE[ModuleB9PartSwitch]:HAS[#moduleID[SEP_Raptor_VAC]]
	{
		@SUBTYPE:HAS[#name[3RVAC]]
		{
			-CoMOffset = 0.0, -0.673, 0.0
		}
		@SUBTYPE:HAS[#name[6RVAC]]
		{
			-CoMOffset = 0.0, 4.746, 0.0
		}
		@SUBTYPE:HAS[#name[6Sofie]]
		{
			-CoMOffset = 0.0, 4.746, 0.0
		}
	}

	MODULE
	{
		name = ModuleWaterfallFX
		moduleID = ventFX

		CONTROLLER
		{
			name = thrust
			linkedTo = thrust
			engineID = Vents
		}

		TEMPLATE
		{
			templateName = sep-vent-jet
			overrideParentTransform = VentTransform
			position = 0,0.0005,0
			rotation = 0, 0, 180
			scale = 2.1, 6.5, 2.1
		}
	}
}



+PART[SEP_22_SHIP_CARGO]:NEEDS[kOS]
{
	@name = SEP_22_SHIP_CARGO_KOS
	@manufacturer = Starship Expansion Project with KOS Guidance

	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[SEPVentSwtich]],* {}
	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[SEPRCSSwitch]],* {}

	MODULE
    {
        name = kOSProcessor
        diskSpace = 255000
    }

    @MODULE[ModuleEnginesFX]
	{
		-PROPELLANT,* {}
		PROPELLANT
		{
			name = LiquidFuel
			ratio = 1
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 3.6
		}
	}

	@MODULE[ModuleRCSFX]
	{
		-PROPELLANT,* {}
		PROPELLANT
		{
			name = LiquidFuel
			ratio = 1
			resourceFlowMode = STAGE_PRIORITY_FLOW
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 3.6
			resourceFlowMode = STAGE_PRIORITY_FLOW
		}
		-atmosphereCurve,* {}
		atmosphereCurve
		{
			key = 0 500
			key = 1 500
			key = 5 0.001
		}
	}
	@MODULE[ModuleRCSFX]:NEEDS[!RealSolarSystem]
	{
		@thrusterPower = 20
	}
	@MODULE[ModuleRCSFX]:NEEDS[RealSolarSystem]
	{
		@thrusterPower = 50
	}
}



+PART[SEP_22_SHIP_CREW]:NEEDS[kOS]:AFTER[kOS]
{
	@name = SEP_22_SHIP_CREW_KOS
	@manufacturer = Starship Expansion Project with KOS Guidance

	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[SEPVentSwtich]],* {}
	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[SEPRCSSwitch]],* {}

	MODULE
    {
        name = kOSProcessor
        diskSpace = 255000
    }

    @MODULE[ModuleEnginesFX]
	{
		-PROPELLANT,* {}
		PROPELLANT
		{
			name = LiquidFuel
			ratio = 1
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 3.6
		}
	}

	@MODULE[ModuleRCSFX]
	{
		-PROPELLANT,* {}
		PROPELLANT
		{
			name = LiquidFuel
			ratio = 1
			resourceFlowMode = STAGE_PRIORITY_FLOW
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 3.6
			resourceFlowMode = STAGE_PRIORITY_FLOW
		}
		-atmosphereCurve,* {}
		atmosphereCurve
		{
			key = 0 500
			key = 1 500
			key = 5 0.001
		}
	}
	@MODULE[ModuleRCSFX]:NEEDS[!RealSolarSystem]
	{
		@thrusterPower = 20
	}
	@MODULE[ModuleRCSFX]:NEEDS[RealSolarSystem]
	{
		@thrusterPower = 50
	}
}



+PART[SEP_22_SHIP_FWD_LEFT]:NEEDS[kOS]
{
	@name = SEP_22_SHIP_FWD_LEFT_KOS
	@manufacturer = Starship Expansion Project with KOS Guidance
}



+PART[SEP_22_SHIP_FWD_RIGHT]:NEEDS[kOS]
{
	@name = SEP_22_SHIP_FWD_RIGHT_KOS
	@manufacturer = Starship Expansion Project with KOS Guidance
}



+PART[SEP_22_SHIP_HEADER]:NEEDS[kOS]
{
	@name = SEP_22_SHIP_HEADER_KOS
	@manufacturer = Starship Expansion Project with KOS Guidance

	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[SEP_Fuel]],* {}
	-MODULE[ModuleCryoTank],* {}
	-MODULE[ModuleTankManager],* {}
	-MODULE[ModuleFuelTanks],* {}

	-RESOURCE,* {}
    RESOURCE:NEEDS[!RealSolarSystem]
    {
		name = LiquidFuel
        amount = 375
        maxAmount = 375
    }
    RESOURCE:NEEDS[!RealSolarSystem]
    {
		name = Oxidizer
        amount = 1350
        maxAmount = 1350
    }

	RESOURCE:NEEDS[RealSolarSystem]
    {
		name = LiquidFuel
        amount = 900
        maxAmount = 900
    }
    RESOURCE:NEEDS[RealSolarSystem]
    {
		name = Oxidizer
        amount = 3240
        maxAmount = 3240
    }
}



+PART[SEP_22_SHIP_TANKER]:NEEDS[kOS]
{
	@name = SEP_22_SHIP_TANKER_KOS
	@manufacturer = Starship Expansion Project with KOS Guidance

	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[SEP_Fuel]],* {}
	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[SEPVentSwtich]],* {}
	-MODULE[ModuleB9PartSwitch]:HAS[#moduleID[SEPRCSSwitch]],* {}
	-MODULE[ModuleCryoTank],* {}
	-MODULE[ModuleTankManager],* {}
	-MODULE[ModuleFuelTanks],* {}

	MODULE
    {
        name = kOSProcessor
        diskSpace = 255000
    }
    -RESOURCE,* {}
    RESOURCE
	{
		name = ElectricCharge
		amount = 5000
		maxAmount = 5000
	}
    RESOURCE:NEEDS[!RealSolarSystem]
    {
		name = LiquidFuel
        amount = 2500
        maxAmount = 2500
    }
    RESOURCE:NEEDS[!RealSolarSystem]
    {
		name = Oxidizer
        amount = 9000
        maxAmount = 9000
    }
    RESOURCE:NEEDS[RealSolarSystem]
    {
		name = LiquidFuel
        amount = 5000
        maxAmount = 5000
    }
    RESOURCE:NEEDS[RealSolarSystem]
    {
		name = Oxidizer
        amount = 18000
        maxAmount = 18000
    }

    @MODULE[ModuleEnginesFX]
	{
		-PROPELLANT,* {}
		PROPELLANT
		{
			name = LiquidFuel
			ratio = 1
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 3.6
		}
	}

	@MODULE[ModuleRCSFX]
	{
		-PROPELLANT,* {}
		PROPELLANT
		{
			name = LiquidFuel
			ratio = 1
			resourceFlowMode = STAGE_PRIORITY_FLOW
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 3.6
			resourceFlowMode = STAGE_PRIORITY_FLOW
		}
		-atmosphereCurve,* {}
		atmosphereCurve
		{
			key = 0 500
			key = 1 500
			key = 5 0.001
		}
	}
	@MODULE[ModuleRCSFX]:NEEDS[!RealSolarSystem]
	{
		@thrusterPower = 20
	}
	@MODULE[ModuleRCSFX]:NEEDS[RealSolarSystem]
	{
		@thrusterPower = 50
	}
}



//--------------------Starship Launch Expansion (Tower)---------------------//



+PART[SLE_SS_OLM]:NEEDS[kOS]
{
	@name = SLE_SS_OLM_KOS
	@manufacturer = Orbital Launch Mount with KOS Guidance
	MODULE
    {
        name = kOSProcessor
        diskSpace = 255000
    }
    MODULE
	{
		name = ModuleDataTransmitter
		antennaType = RELAY
		packetInterval = 0.35
		packetSize = 1
		packetResourceCost = 24.0
		requiredResource = ElectricCharge
		antennaPower = 2000000000
		antennaCombinable = True
	}
}



+PART[SLE_SS_OLIT_Core]:NEEDS[kOS]
{
	@name = SLE_SS_OLIT_Core_KOS
	@manufacturer = Orbital Launch Mount with KOS Guidance
}



+PART[SLE_SS_OLIT_Top]:NEEDS[kOS]
{
	@name = SLE_SS_OLIT_Top_KOS
	@manufacturer = Orbital Launch Mount with KOS Guidance
}



+PART[SLE_SS_OLIT_Base]:NEEDS[kOS]
{
	@name = SLE_SS_OLIT_Base_KOS
	@manufacturer = Orbital Launch Mount with KOS Guidance
}



+PART[SLE_SS_OLIT_MZ]:NEEDS[kOS]
{
	@name = SLE_SS_OLIT_MZ_KOS
	@manufacturer = Orbital Launch Mount with KOS Guidance
}



@PART[SLE_SS_OLIT_Base_KOS,SLE_SS_OLIT_MZ_KOS,SLE_SS_OLIT_Top_KOS,SLE_SS_OLIT_Core_KOS,SLE_SS_OLM_KOS]:NEEDS[kOS,RealSolarSystem]
{
	@mass *= 4
	%rescaleFactor = 1.6
	@MODULE[ModuleSLEAnimate]:HAS[~AnimationName[MechazillaRight],~AnimationName[MechazillaLeft]],*
	{
		@MaxExtension *= 1.6
		@AnimationMaxVelocity *= 1.6
	}
	@MODULE[ModuleSLEController],1
	{
		@OpenCloseRange = 0.24, 20, 20
	}
	@MODULE[ModuleB9PartSwitch]:HAS[#moduleID[OLITSelector]]
	{
		@SUBTYPE,1
		{
			@NODE
			{
				@position = 0.0, 13.111875, 0.0
			}
			@addedMass *= 4
		}
		@SUBTYPE,2
		{
			@NODE
			{
				@position = 0.0, 19.674375, 0.0
			}
			@addedMass *= 4
		}
		@SUBTYPE,3
		{
			@NODE
			{
				@position = 0.0, 26.236875, 0.0
			}
			@addedMass *= 4
		}
		@SUBTYPE,4
		{
			@NODE
			{
				@position = 0.0, 32.7993125, 0.0
			}
			@addedMass *= 4
		}
		@SUBTYPE,5
		{
			@NODE
			{
				@position = 0.0, 39.3618125, 0.0
			}
			@addedMass *= 4
		}
		@SUBTYPE,6
		{
			@NODE
			{
				@position = 0.0, 45.9243125, 0.0
			}
			@addedMass *= 4
		}
	}
}



//-----------------Part Mass-------------------//



@PART[SEP_22_BOOSTER_CLUSTER_KOS]:NEEDS[kOS,!RealSolarSystem]
{
	@mass = 55
}
@PART[SEP_22_BOOSTER_CLUSTER_KOS]:NEEDS[kOS,RealSolarSystem]
{
	@mass = 60
	@rescaleFactor = 1
}



@PART[SEP_22_BOOSTER_CORE_KOS]:NEEDS[kOS,!RealSolarSystem]
{
	@mass = 35
}
@PART[SEP_22_BOOSTER_CORE_KOS]:NEEDS[kOS,RealSolarSystem]
{
	@mass = 120
	@rescaleFactor = 1
}



@PART[SEP_22_BOOSTER_GRIDFIN_KOS]:NEEDS[kOS,!RealSolarSystem]
{
	@mass = 1
}
@PART[SEP_22_BOOSTER_GRIDFIN_KOS]:NEEDS[kOS,RealSolarSystem]
{
	@mass = 3
	@rescaleFactor = 1
}



@PART[SEP_22_BOOSTER_INTER_KOS]:NEEDS[kOS,!RealSolarSystem]
{
	@mass = 6
}
@PART[SEP_22_BOOSTER_INTER_KOS]:NEEDS[kOS,RealSolarSystem]
{
	@mass = 8
	@rescaleFactor = 1
}



@PART[SEP_22_RAPTOR_VAC_KOS]:NEEDS[kOS,!RealSolarSystem]
{
	@mass = 1
}
@PART[SEP_22_RAPTOR_VAC_KOS]:NEEDS[kOS,RealSolarSystem]
{
	@mass = 2
	@rescaleFactor = 1
}



@PART[SEP_22_RAPTOR2_SL_KOS]:NEEDS[kOS,!RealSolarSystem]
{
	@mass = 0.75
}
@PART[SEP_22_RAPTOR2_SL_KOS]:NEEDS[kOS,RealSolarSystem]
{
	@mass = 1.5
	@rescaleFactor = 1
}



@PART[SEP_22_SHIP_AFT_LEFT_KOS,SEP_22_SHIP_AFT_RIGHT_KOS]:NEEDS[kOS,!RealSolarSystem]
{
	@mass = 1.25
}
@PART[SEP_22_SHIP_AFT_LEFT_KOS,SEP_22_SHIP_AFT_RIGHT_KOS]:NEEDS[kOS,RealSolarSystem]
{
	@mass = 3.25
	@rescaleFactor = 1
}



@PART[SEP_22_SHIP_FWD_LEFT_KOS,SEP_22_SHIP_FWD_RIGHT_KOS]:NEEDS[kOS,!RealSolarSystem]
{
	@mass = 1
}
@PART[SEP_22_SHIP_FWD_LEFT_KOS,SEP_22_SHIP_FWD_RIGHT_KOS]:NEEDS[kOS,RealSolarSystem]
{
	@mass = 3
	@rescaleFactor = 1
}



@PART[SEP_22_SHIP_BODY_KOS]:NEEDS[kOS,!RealSolarSystem]
{
	@mass = 20
	CoMOffset = 0.0, -1.5, 0.0
}
@PART[SEP_22_SHIP_BODY_KOS]:NEEDS[kOS,RealSolarSystem]
{
	@mass = 75
	CoMOffset = 0.0, -2.4, 0.0
	@rescaleFactor = 1

	%maxTemp = 873.15
	%skinMaxTemp = 2973.15
	%skinThermalMassModifier = 0.43613
	%skinInternalConductionMult = 0.0000105
	%skinMassPerArea = 0.815
	%absorptiveConstant = 0.15
	%emissiveConstant = 0.85
	%thermalMassModifier = 1.0
}



@PART[SEP_22_SHIP_CARGO_KOS]:NEEDS[kOS,!RealSolarSystem]
{
	@mass = 10
	CoMOffset = 0.0, -2, 0.0
}
@PART[SEP_22_SHIP_CARGO_KOS]:NEEDS[kOS,RealSolarSystem]
{
	@mass = 20
	CoMOffset = 0.0, -3.2, 0.0
	@rescaleFactor = 1

	%maxTemp = 873.15
	%skinMaxTemp = 2973.15
	%skinThermalMassModifier = 0.43613
	%skinInternalConductionMult = 0.0000105
	%skinMassPerArea = 0.815
	%absorptiveConstant = 0.15
	%emissiveConstant = 0.85
	%thermalMassModifier = 1.0
}



@PART[SEP_22_SHIP_CREW_KOS]:NEEDS[kOS,!RealSolarSystem]
{
	@mass = 15
	CoMOffset = 0.0, -2, 0.0
}
@PART[SEP_22_SHIP_CREW_KOS]:NEEDS[kOS,RealSolarSystem]
{
	@mass = 25
	%CoMOffset = 0.0, -3.2, 0.0
	%rescaleFactor = 1

	@INTERNAL,0
	{
		@rescaleFactor = 1.6
		@scale = 1.6,1.6,1.6
		@MODEL,0
		{
			@scale = 1.6,1.6,1.6
		}
	}

	%maxTemp = 873.15
	%skinMaxTemp = 2973.15
	%skinThermalMassModifier = 0.43613
	%skinInternalConductionMult = 0.0000105
	%skinMassPerArea = 0.815
	%absorptiveConstant = 0.15
	%emissiveConstant = 0.85
	%thermalMassModifier = 1.0
}



@PART[SEP_22_SHIP_TANKER_KOS]:NEEDS[kOS,!RealSolarSystem]
{
	@mass = 10
	CoMOffset = 0.0, -2, 0.0
}
@PART[SEP_22_SHIP_TANKER_KOS]:NEEDS[kOS,RealSolarSystem]
{
	@mass = 20
	CoMOffset = 0.0, -3.2, 0.0
	@rescaleFactor = 1

	%maxTemp = 873.15
	%skinMaxTemp = 2973.15
	%skinThermalMassModifier = 0.43613
	%skinInternalConductionMult = 0.0000105
	%skinMassPerArea = 0.815
	%absorptiveConstant = 0.15
	%emissiveConstant = 0.85
	%thermalMassModifier = 1.0
}



@PART[SEP_22_SHIP_HEADER_KOS]:NEEDS[kOS,!RealSolarSystem]
{
	@mass = 1
}
@PART[SEP_22_SHIP_HEADER_KOS]:NEEDS[kOS,RealSolarSystem]
{
	@mass = 2
	@rescaleFactor = 1

	%maxTemp = 873.15
	%skinMaxTemp = 2973.15
	%skinThermalMassModifier = 0.43613
	%skinInternalConductionMult = 0.0000105
	%skinMassPerArea = 0.815
	%absorptiveConstant = 0.15
	%emissiveConstant = 0.85
	%thermalMassModifier = 1.0
}



--------------------Waterfall---------------------



@PART[SEP_22_SHIP_BODY_KOS|SEP_22_SHIP_TANKER_KOS|SEP_22_SHIP_CARGO_KOS|SEP_22_SHIP_CREW_KOS]:NEEDS[kOS,Waterfall]
{
	@EFFECTS
	{
		running
		{
			AUDIO_MULTI_POOL
			{
				channel = Ship
				transformName = RCS
				clip = sound_rocket_mini
				volume = 0.0 0.0
				volume = 0.1 0.0
				volume = 0.5 0.025
				volume = 1.0 0.1
				pitch = 1.0
				loop = true
			}
		}
	}
	MODULE
	{
		name = ModuleWaterfallFX
		moduleID = rcsFX

		CONTROLLER
		{
			name = atmosphereDepth
			linkedTo = atmosphere_density
		}
		CONTROLLER
		{
			name = rcs
			linkedTo = rcs
		}
		TEMPLATE:NEEDS[!RealSolarSystem]
		{
			templateName = SEP-SP-RCS
			overrideParentTransform = RCS
			position = 0,0,0
			rotation = 0, 0, 180
			scale = 1.0, 1.0, 1.0
		}
		TEMPLATE:NEEDS[RealSolarSystem]
		{
			templateName = SEP-SP-RCS
			overrideParentTransform = RCS
			position = 0,0,0
			rotation = 0, 0, 180
			scale = 1.6, 1.6, 1.6
		}
	}
	EFFECTS
	{
		running_vent
		{
			AUDIO_MULTI_POOL
			{
				channel = Ship
				transformName = VentTransform
				clip = sound_rocket_mini
				volume = 0.0 0.0
				volume = 1.0 0.1
				pitch = 1.0
				loop = true
			}
		}
	}
	MODULE
	{
		name = ModuleWaterfallFX
		moduleID = ventFX

		CONTROLLER
		{
			name = thrust
			linkedTo = thrust
			engineID = Vents
		}
		TEMPLATE:NEEDS[!RealSolarSystem]
		{
			templateName = sep-vent-jet
			overrideParentTransform = VentTransform
			position = 0,0.0005,0
			rotation = 0, 0, 180
			scale = 2.1, 6.5, 2.1
		}
		TEMPLATE:NEEDS[RealSolarSystem]
		{
			templateName = sep-vent-jet
			overrideParentTransform = VentTransform
			position = 0,0.0005,0
			rotation = 0, 0, 180
			scale = 3.36, 10.4, 3.36
		}
	}
}
